{erl_opts, [debug_info]}.
{deps, [
    {cowboy, "2.12.0"},
    {cowlib, "2.13.0"},
    {jsx, "3.1.0"},
    {epgsql, {git, "https://github.com/epgsql/epgsql.git", {branch, "master"}}},
    {jose, "1.11.10"}
]}.

{overrides, [
    {override, cowlib, [{erl_opts, [debug_info, nowarn_export_all, {nowarn_singleton_type_vars, true}]}]},
    {override, cowboy, [{erl_opts, [debug_info, nowarn_export_all]}]}
]}.

{relx, [{release, {secure_chat, "0.1.0"},
         [secure_chat,
          sasl]},

        {mode, dev},

        %% vars.config is used for template string replacement
        {sys_config, "./config/sys.config"},
        {vm_args, "./config/vm.args"}
]}.

{profiles, [{prod, [{relx,
                     [%% prod mode is the default anyway, but this is explicit
                      {mode, prod}
                     ]
            }]
}]}.
